{"version":3,"sources":["top_panel.js"],"names":["BX","namespace","removeClass","Landing","Utils","addClass","onCustomEvent","bind","makeFilterablePopupMenu","makeSelectablePopupMenu","style","Menu","UI","Tool","Panel","Top","id","data","BasePanel","apply","this","arguments","layout","top","document","querySelector","siteButton","pageButton","undoButton","redoButton","desktopButton","tabletButton","mobileButton","iframe","lastActive","loader","onDesktopSizeChange","onTabletSizeChange","onMobileSizeChange","onFrameTransitionEnd","onIframeClick","onSiteButtonClick","onPageButtonClick","onUndo","onRedo","onKeyDown","adjustHistoryButtonsState","contentDocument","window","sitesCount","parseInt","Main","getInstance","options","sites_count","pagesCount","pages_count","addEventListener","History","instance","prototype","constructor","__proto__","superclass","event","key","keyCode","which","navigator","userAgent","match","ctrlKey","metaKey","shiftKey","preventDefault","canUndo","getLoader","show","undo","then","hide","canRedo","redo","Loader","size","offset","left","stroke-width","history","classList","remove","add","DOM","write","width","dataset","postfix","enableControls","disableControls","siteMenu","bindElement","events","onPopupClose","blur","menuShowDelay","offsetTop","popupWindow","contentContainer","minHeight","minWidth","siteId","site_id","landingId","filter","=TYPE","params","type","URLList","getSites","sites","forEach","site","addMenuItem","ID","text","TITLE","items","editMask","sef_url","site_edit","showMask","site_show","push","message","href","replace","requestAnimationFrame","pageMenu","getLandings","landings","landing","FOLDER_ID","landing_edit","viewMask","landing_view","FOLDER","siteShowMask","SITE_ID","close"],"mappings":"CAAC,WACA,aAEAA,GAAGC,UAAU,uBAEb,IAAIC,EAAcF,GAAGG,QAAQC,MAAMF,YACnC,IAAIG,EAAWL,GAAGG,QAAQC,MAAMC,SAChC,IAAIC,EAAgBN,GAAGG,QAAQC,MAAME,cACrC,IAAIC,EAAOP,GAAGG,QAAQC,MAAMG,KAC5B,IAAIC,EAA0BR,GAAGG,QAAQC,MAAMI,wBAC/C,IAAIC,EAA0BT,GAAGG,QAAQC,MAAMK,wBAC/C,IAAIC,EAAQV,GAAGG,QAAQC,MAAMM,MAE7B,IAAIC,EAAOX,GAAGG,QAAQS,GAAGC,KAAKF,KAU9BX,GAAGG,QAAQS,GAAGE,MAAMC,IAAM,SAASC,EAAIC,GAEtCjB,GAAGG,QAAQS,GAAGE,MAAMI,UAAUC,MAAMC,KAAMC,WAE1CD,KAAKE,OAASC,IAAIC,SAASC,cAAc,yBACzCL,KAAKM,WAAaN,KAAKE,OAAOG,cAAc,yCAC5CL,KAAKO,WAAaP,KAAKE,OAAOG,cAAc,yCAC5CL,KAAKQ,WAAaR,KAAKE,OAAOG,cAAc,sCAC5CL,KAAKS,WAAaT,KAAKE,OAAOG,cAAc,sCAC5CL,KAAKU,cAAgBV,KAAKE,OAAOG,cAAc,8BAC/CL,KAAKW,aAAeX,KAAKE,OAAOG,cAAc,6BAC9CL,KAAKY,aAAeZ,KAAKE,OAAOG,cAAc,6BAC9CL,KAAKa,OAASV,IAAIC,SAASC,cAAc,oBAEzCL,KAAKc,WAAad,KAAKU,cACvBV,KAAKe,OAAS,KAEdf,KAAKgB,oBAAsBhB,KAAKgB,oBAAoB7B,KAAKa,MACzDA,KAAKiB,mBAAqBjB,KAAKiB,mBAAmB9B,KAAKa,MACvDA,KAAKkB,mBAAqBlB,KAAKkB,mBAAmB/B,KAAKa,MACvDA,KAAKmB,qBAAuBnB,KAAKmB,qBAAqBhC,KAAKa,MAC3DA,KAAKoB,cAAgBpB,KAAKoB,cAAcjC,KAAKa,MAC7CA,KAAKqB,kBAAoBrB,KAAKqB,kBAAkBlC,KAAKa,MACrDA,KAAKsB,kBAAoBtB,KAAKsB,kBAAkBnC,KAAKa,MACrDA,KAAKuB,OAASvB,KAAKuB,OAAOpC,KAAKa,MAC/BA,KAAKwB,OAASxB,KAAKwB,OAAOrC,KAAKa,MAC/BA,KAAKyB,UAAYzB,KAAKyB,UAAUtC,KAAKa,MACrCA,KAAK0B,0BAA4B1B,KAAK0B,0BAA0BvC,KAAKa,MAErEb,EAAKa,KAAKU,cAAe,QAASV,KAAKgB,qBACvC7B,EAAKa,KAAKW,aAAc,QAASX,KAAKiB,oBACtC9B,EAAKa,KAAKY,aAAc,QAASZ,KAAKkB,oBACtC/B,EAAKa,KAAKa,OAAQ,sBAAuBb,KAAKmB,sBAC9ChC,EAAKa,KAAKa,OAAQ,gBAAiBb,KAAKmB,sBACxChC,EAAKa,KAAKa,OAAQ,kBAAmBb,KAAKmB,sBAC1ChC,EAAKa,KAAKa,OAAQ,iBAAkBb,KAAKmB,sBACzChC,EAAKa,KAAKa,OAAOc,gBAAiB,QAAS3B,KAAKoB,eAChDjC,EAAKa,KAAKM,WAAY,QAASN,KAAKqB,mBACpClC,EAAKa,KAAKO,WAAY,QAASP,KAAKsB,mBACpCnC,EAAKa,KAAKQ,WAAY,QAASR,KAAKuB,QACpCpC,EAAKa,KAAKS,WAAY,QAAST,KAAKwB,QACpCrC,EAAKgB,IAAIC,SAAU,UAAWJ,KAAKyB,WAEnCvC,EAAciB,IAAIC,SAAU,iBAAkBJ,KAAKyB,WACnDvC,EAAciB,IAAIyB,OAAQ,0BAA2B5B,KAAK0B,2BAC1DxC,EAAciB,IAAIyB,OAAQ,4BAA6B5B,KAAK0B,2BAE5D,IAAIG,EAAaC,SAASlD,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQC,aAChE,IAAIC,EAAaL,SAASlD,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQG,aAEhE,GAAIP,EAAa,EACjB,CACC7B,KAAKM,WAAW+B,iBAAiB,QAASrC,KAAKqB,kBAAkBlC,KAAKa,OAGvE,GAAImC,EAAa,EACjB,CACCnC,KAAKO,WAAW8B,iBAAiB,QAASrC,KAAKsB,kBAAkBnC,KAAKa,OAIvEpB,GAAGG,QAAQuD,QAAQN,eAIpBpD,GAAGG,QAAQS,GAAGE,MAAMC,IAAI4C,SAAW,KAOnC3D,GAAGG,QAAQS,GAAGE,MAAMC,IAAIqC,YAAc,WAErC,IAAK7B,IAAIvB,GAAGG,QAAQS,GAAGE,MAAMC,IAAI4C,SACjC,CACCpC,IAAIvB,GAAGG,QAAQS,GAAGE,MAAMC,IAAI4C,SAAW,IAAI3D,GAAGG,QAAQS,GAAGE,MAAMC,IAAI,aAGpE,OAAOQ,IAAIvB,GAAGG,QAAQS,GAAGE,MAAMC,IAAI4C,UAIpC3D,GAAGG,QAAQS,GAAGE,MAAMC,IAAI6C,WACvBC,YAAa7D,GAAGG,QAAQS,GAAGE,MAAMC,IACjC+C,UAAW9D,GAAGG,QAAQS,GAAGE,MAAMI,UAAU0C,UACzCG,WAAY/D,GAAGG,QAAQS,GAAGE,MAAMI,UAAU0C,UAO1Cf,UAAW,SAASmB,GAEnB,IAAIC,EAAMD,EAAME,SAAWF,EAAMG,MAEjC,GAAIF,IAAQ,KAAO1C,IAAIyB,OAAOoB,UAAUC,UAAUC,MAAM,QAAUN,EAAMO,QAAUP,EAAMQ,SACxF,CACC,GAAIR,EAAMS,SACV,CACCT,EAAMU,iBACNtD,KAAKwB,aAGN,CACCoB,EAAMU,iBACNtD,KAAKuB,YASRA,OAAQ,WAEP,GAAI3C,GAAGG,QAAQuD,QAAQN,cAAcuB,UACrC,CACCvD,KAAKwD,YAAYC,KAAKzD,KAAKQ,YAC3BvB,EAASe,KAAKQ,WAAY,qBAC1B5B,GAAGG,QAAQuD,QAAQN,cAAc0B,OAC/BC,KAAK,WACL3D,KAAKwD,YAAYI,OACjB9E,EAAYkB,KAAKQ,WAAY,sBAC5BrB,KAAKa,WAGT,CACCA,KAAKwD,YAAYI,OACjB9E,EAAYkB,KAAKQ,WAAY,uBAQ/BgB,OAAQ,WAEP,GAAI5C,GAAGG,QAAQuD,QAAQN,cAAc6B,UACrC,CACC7D,KAAKwD,YAAYC,KAAKzD,KAAKS,YAC3BxB,EAASe,KAAKS,WAAY,qBAC1B7B,GAAGG,QAAQuD,QAAQN,cAAc8B,OAC/BH,KAAK,WACL3D,KAAKwD,YAAYI,OACjB9E,EAAYkB,KAAKS,WAAY,sBAC5BtB,KAAKa,WAGT,CACCA,KAAKwD,YAAYI,OACjB9E,EAAYkB,KAAKS,WAAY,uBAS/B+C,UAAW,WAEV,GAAIxD,KAAKe,SAAW,KACpB,CACCf,KAAKe,OAAS,IAAInC,GAAGmF,QAAQC,KAAM,GAAIC,QAAS9D,IAAK,MAAO+D,KAAM,SAClE5E,EAAMU,KAAKe,OAAOb,OAAOG,cAAc,+BACtC8D,eAAgB,QAIlB,OAAOnE,KAAKe,QAQbW,0BAA2B,SAAS0C,GAEnC,GAAIA,EAAQb,UACZ,CACCvD,KAAKQ,WAAW6D,UAAUC,OAAO,2BAGlC,CACCtE,KAAKQ,WAAW6D,UAAUE,IAAI,uBAG/B,GAAIH,EAAQP,UACZ,CACC7D,KAAKS,WAAW4D,UAAUC,OAAO,2BAGlC,CACCtE,KAAKS,WAAW4D,UAAUE,IAAI,yBAQhCpD,qBAAsB,WAErBnB,KAAKa,OAAOwD,UAAUC,OAAO,0BAO9BtD,oBAAqB,WAEpBhB,KAAKa,OAAOwD,UAAUE,IAAI,yBAC1BvE,KAAKa,OAAOwD,UAAUC,OAAO,qBAC7BtE,KAAKc,WAAWuD,UAAUC,OAAO,UACjCtE,KAAKc,WAAad,KAAKU,cACvBV,KAAKU,cAAc2D,UAAUE,IAAI,UAEjC3F,GAAG4F,IAAIC,MAAM,WACZzE,KAAKa,OAAOvB,MAAMoF,MAAQ,MACzBvF,KAAKa,OAEPA,KAAKa,OAAO8D,QAAQC,QAAU,GAC9BhG,GAAGG,QAAQgD,KAAKC,cAAc6C,kBAO/B5D,mBAAoB,WAEnBjB,KAAKa,OAAOwD,UAAUE,IAAI,yBAC1BvE,KAAKa,OAAOwD,UAAUE,IAAI,qBAC1BvE,KAAKc,WAAWuD,UAAUC,OAAO,UACjCtE,KAAKc,WAAad,KAAKW,aACvBX,KAAKW,aAAa0D,UAAUE,IAAI,UAEhC3F,GAAG4F,IAAIC,MAAM,WACZzE,KAAKa,OAAOvB,MAAMoF,MAAQ,UACzBvF,KAAKa,OAEPA,KAAKa,OAAO8D,QAAQC,QAAU,OAC9BhG,GAAGG,QAAQgD,KAAKC,cAAc8C,mBAO/B5D,mBAAoB,WAEnBlB,KAAKa,OAAOwD,UAAUE,IAAI,yBAC1BvE,KAAKa,OAAOwD,UAAUE,IAAI,qBAC1BvE,KAAKc,WAAWuD,UAAUC,OAAO,UACjCtE,KAAKc,WAAad,KAAKY,aACvBZ,KAAKY,aAAayD,UAAUE,IAAI,UAEhC3F,GAAG4F,IAAIC,MAAM,WACZzE,KAAKa,OAAOvB,MAAMoF,MAAQ,SACzBvF,KAAKa,OAEPA,KAAKa,OAAO8D,QAAQC,QAAU,OAC9BhG,GAAGG,QAAQgD,KAAKC,cAAc8C,mBAI/BzD,kBAAmB,SAASuB,GAE3BA,EAAMU,iBAEN,IAAKtD,KAAK+E,SACV,CACC,IAAIhE,EAAS,IAAInC,GAAGmF,QAAQC,KAAM,KAClChE,KAAK+E,SAAW,IAAIxF,GACnBK,GAAI,iBACJoF,YAAahF,KAAKM,WAClB2E,QACCC,aAAc,WACblF,KAAKM,WAAW+D,UAAUC,OAAO,qBACjCtE,KAAKM,WAAW6E,QACfhG,KAAKa,OAERoF,cAAe,EACfC,UAAW,IAGZrF,KAAK+E,SAASO,YAAYC,iBAAiBjG,MAAMkG,UAAY,OAC7DxF,KAAK+E,SAASO,YAAYC,iBAAiBjG,MAAMmG,SAAW,QAC5D1E,EAAO0C,KAAKzD,KAAK+E,SAASO,YAAYC,kBAEtC,IAAItD,GACHyD,OAAQ9G,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ0D,QAC9CC,UAAWhH,GAAGG,QAAQgD,KAAKC,cAAcpC,GACzCiG,QACCC,QAASlH,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOC,OAIxDpH,GAAGG,QAAQS,GAAGE,MAAMuG,QAAQjE,cAAckE,SAASjE,GACjD0B,KAAK,SAASwC,GACd/G,EAAwBY,KAAK+E,UAC7B1F,EAAwBW,KAAK+E,UAE7BoB,EAAMC,QAAQ,SAASC,GACtBrG,KAAK+E,SAASuB,aACb1G,GAAIyG,EAAKE,GACTC,KAAMH,EAAKI,MACXC,MAAO,WACN,IAAIA,KACJ,IAAIC,EAAW/H,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOa,QAAQC,UACpE,IAAIC,EAAWlI,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOa,QAAQG,UAEpEL,EAAMM,MACLR,KAAM5H,GAAGqI,QAAQ,oCACjBC,KAAMJ,EAASK,QAAQ,cAAed,EAAKE,MAG5CG,EAAMM,MACLR,KAAM5H,GAAGqI,QAAQ,8BACjBC,KAAMP,EAASQ,QAAQ,cAAed,EAAKE,MAG5C,OAAOG,EAfD,MAkBN1G,MACHoH,sBAAsB,WACrBrG,EAAO6C,UAEPzE,KAAKa,OAGTA,KAAKM,WAAW+D,UAAUE,IAAI,qBAC9BvE,KAAK+E,SAAStB,QAQfnC,kBAAmB,SAASsB,GAE3BA,EAAMU,iBAEN,IAAKtD,KAAKqH,SACV,CACC,IAAItG,EAAS,IAAInC,GAAGmF,QAAQC,KAAM,KAClChE,KAAKqH,SAAW,IAAI9H,GACnBK,GAAI,iBACJoF,YAAahF,KAAKO,WAClB0E,QACCC,aAAc,WACblF,KAAKO,WAAW8D,UAAUC,OAAO,qBACjCtE,KAAKO,WAAW4E,QACfhG,KAAKa,OAERoF,cAAe,EACfC,UAAW,IAGZrF,KAAKqH,SAAS/B,YAAYC,iBAAiBjG,MAAMkG,UAAY,OAC7DxF,KAAKqH,SAAS/B,YAAYC,iBAAiBjG,MAAMmG,SAAW,QAC5D1E,EAAO0C,KAAKzD,KAAKqH,SAAS/B,YAAYC,kBAEtC,IAAItD,GACHyD,OAAQ9G,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ0D,QAC9CC,UAAWhH,GAAGG,QAAQgD,KAAKC,cAAcpC,GACzCiG,QACCC,QAASlH,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOC,OAIxDpH,GAAGG,QAAQS,GAAGE,MAAMuG,QAAQjE,cAC1BsF,YAAYrF,EAAQyD,OAAQzD,GAC5B0B,KAAK,SAAS4D,GACdnI,EAAwBY,KAAKqH,UAC7BhI,EAAwBW,KAAKqH,UAE7BE,EAASnB,QAAQ,SAASoB,GACzB,IAAKA,EAAQC,UACb,CACCzH,KAAKqH,SAASf,aACb1G,GAAI4H,EAAQjB,GACZC,KAAMgB,EAAQf,MACdC,MAAO,WACN,IAAIA,KACJ,IAAIC,EAAW/H,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOa,QAAQc,aACpE,IAAIC,EAAW/I,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOa,QAAQgB,aAEpE,GAAIJ,EAAQK,SAAW,IACvB,CACC,IAAIC,EAAelJ,GAAGG,QAAQgD,KAAKC,cAAcC,QAAQ8D,OAAOa,QAAQG,UACxEL,EAAMM,MACLR,KAAM5H,GAAGqI,QAAQ,oCACjBC,KAAMY,EAAaX,QAAQ,cAAeK,EAAQO,SAAW,aAAeP,EAAQjB,KAItFG,EAAMM,MACLR,KAAM5H,GAAGqI,QAAQ,oCACjBC,KAAMS,EAASR,QAAQ,cAAeK,EAAQO,SAASZ,QAAQ,iBAAkBK,EAAQjB,MAG1FG,EAAMM,MACLR,KAAM5H,GAAGqI,QAAQ,wCACjBC,KAAMP,EAASQ,QAAQ,cAAeK,EAAQO,SAASZ,QAAQ,iBAAkBK,EAAQjB,MAG1F,OAAOG,EAxBD,OA4BP1G,MACHoH,sBAAsB,WACrBrG,EAAO6C,UAEPzE,KAAKa,OAGTA,KAAKO,WAAW8D,UAAUE,IAAI,qBAC9BvE,KAAKqH,SAAS5D,QAOfrC,cAAe,WAEd,GAAIpB,KAAK+E,SACT,CACC/E,KAAK+E,SAASiD,QAGf,GAAIhI,KAAKqH,SACT,CACCrH,KAAKqH,SAASW,YAldjB","file":""}