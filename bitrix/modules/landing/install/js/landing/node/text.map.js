{"version":3,"sources":["text.js"],"names":["BX","namespace","escapeText","Landing","Utils","headerTagMatcher","Matchers","headerTag","russianTextMatcher","russianText","changeTagName","Block","Node","Text","options","apply","this","arguments","onClick","bind","onPaste","onDrop","onInput","node","addEventListener","currentNode","prototype","__proto__","superClass","constructor","onAllowInlineEdit","setAttribute","message","onChange","preventAdjustPosition","preventHistory","call","containsRussianText","buttons","getGlavredButton","getDesignButton","UI","Panel","EditorPanel","getInstance","show","adjustPosition","History","push","Entry","block","top","storage","getByChildNode","id","selector","command","undo","lastValue","redo","getValue","event","clearTimeout","inputTimeout","key","keyCode","which","window","navigator","userAgent","match","ctrlKey","metaKey","setTimeout","onEscapePress","isEditable","hide","disableEdit","preventDefault","clipboardData","getData","document","execCommand","onDocumentClick","manifest","allowInlineEdit","Main","isControlsEnabled","stopPropagation","enableEdit","Tool","ColorPicker","hideAll","Button","FontAction","target","nodeName","parentElement","range","createRange","selectNode","getSelection","removeAllRanges","addRange","isContentEditable","StylePanel","isShown","isHeader","getChangeTagButton","changeHandler","onChangeTag","contentEditable","focus","designButton","Design","html","attrs","title","onDesignShow","code","glavredButton","EditorAction","onGlavredButtonClick","buttonHTML","layout","innerHTML","buttonRect","getBoundingClientRect","loader","Card","Loader","style","width","overflow","appendChild","classList","add","Client","Glavred","proofread","then","remove","removeMarkup","isAllowInlineEdit","getField","field","Field","name","content","changeTagButton","setValue","value","preventSave","isSavePrevented","util","htmlspecialcharsback","test","ChangeTag","insertAfter","activateItem","data","tagName","changeOptionsHandler"],"mappings":"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","file":""}